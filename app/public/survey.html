<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Friend Finder</title>
    <!-- Latest compiled and minified CSS & JS -->
    <!-- Link Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<!-- Link Bootstrap JS and JQuery -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
	<!-- <link rel="stylesheet" href="css/style.css"> -->
	<script src="https://code.jquery.com/jquery-3.4.1.min.js"
  	integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  	crossorigin="anonymous"></script>
	<!-- Font Awesome Glyphicons -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
</head>

<body>
    <div class="container">
    <h1>Survey Questions</h1>
    <form>
        <div class="form-group">
            <label for="formGrpOne"><b>Name</b></label>
            <input type="text" class="form-control" id="name">
        </div>
        <div class="form-group">
            <label for="formGrpTwo"><b>Photo</b></label>
            <input type="text" class="form-control" id="photo">
        </div>

        <b>Question 1</b>
        <div>It appears there are aliens amongst us.</div>
        <select class="custom-select custom-select-lg mb-3" id="q1">
            <option selected></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <b>Question 2</b>
        <div>The earth is flat.</div>
        <select class="custom-select custom-select-lg mb-3" id="q2">
            <option selected></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <b>Question 3</b>
        <div>Pomp and circumstance is necessary in life.</div>
        <select class="custom-select custom-select-lg mb-3" id="q3">
            <option selected></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <b>Question 4</b>
        <div>What's in a name.</div>
        <select class="custom-select custom-select-lg mb-3" id="q4">
            <option selected></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <b>Question 5</b>
        <div>Uneasy lies the heir that wears the crown.</div>
        <select class="custom-select custom-select-lg mb-3" id="q5">
            <option selected></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <b>Question 6</b>
        <div>Curiosity killed the cat.</div>
        <select class="custom-select custom-select-lg mb-3" id="q6">
            <option selected></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <b>Question 7</b>
        <div>Another day in paradise.</div>
        <select class="custom-select custom-select-lg mb-3" id="q7">
            <option selected></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <b>Question 8</b>
        <div>An empty barrel makes the most noise.</div>
        <select class="custom-select custom-select-lg mb-3" id="q8">
            <option selected></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <b>Question 9</b>
        <div>When is it good to be bad.</div>
        <select class="custom-select custom-select-lg mb-3" id="q9">
            <option selected></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <b>Question 10</b>
        <div>Action speaks lowder than words.</div>
        <select class="custom-select custom-select-lg mb-3" id="q10">
            <option selected></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
        <button type="submit" class="btn btn-primary mb-2" id="submit">Submit</button>
    </form>
    <a href="/api/friends">API Friends List</a> | <a href="https://github.com/codeproj01/friendfinder">GitHub Repo</a>
    </div>

    <div id = "myModal" class="modal" role="dialog">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">A Friend Match!</h5>
                  <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">
                      &times;
                    </span>
                  </button>
                </div>
                <div class="modal-body">
                  <p id = "friend-name"></p>
                  <img id = "friend-image" />
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div> 

 
</body>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script type="text/javascript">
document.getElementById("submit").addEventListener("click", function (event) {
        event.preventDefault();

        var userInput = {
	        "name": document.getElementById('name').value.trim(),
	        "photo": document.getElementById('photo').value.trim(),
            scores: [
                    document.getElementById('q1').value, 
	                document.getElementById('q2').value, 
	                document.getElementById('q3').value, 
	                document.getElementById('q4').value, 
	                document.getElementById('q5').value, 
	                document.getElementById('q6').value, 
	                document.getElementById('q7').value, 
	                document.getElementById('q8').value, 
	                document.getElementById('q9').value, 
	                document.getElementById('q10').value
                ]
            };

        axios.post("/api/friends", userInput, function (userFriend) {
                if (userFriend){
                    document.getElementById('friend-name').text(userFriend.name)
                    document.getElementById('friend-image').attribute('src', userFriend.photo)
                    document.getElementsById("myModal").modal("show");
                
                }
            })
    })

</script>

</html>